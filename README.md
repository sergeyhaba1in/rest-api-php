## Описание методов для работы с БД через REST API

### В коде отсутсвуют всеозможные проверки и прочие правильные штуки - это просто демонстрация степени усвоенного материала.

### Расположение каталогов

    - inet_lab/
        create_table.php // создаст демо таблицу 'inet'
    - api/
        auth.php         // аутентификация
        delete.php       // удаление пользователя
        get_info_all.php // вывести информацию о всех пользователях
        get_info_one.php // вывести информацию о пользователе
        insert.php       // добавить пользователя
        update.php       // обновить пользовательские данные
    - classes/
        Api.php          // все методы
        DataBase.php     // подключение к БД

### Адрес для обращения к API

    http(s)://localhost/inet_lab/api/

### Аутентификация

Для аутентификации запроса используется HTTP Basic Auth.
В качестве логина используется параметр NAME — имя пользователя в БД, в качестве пароля — пароль пользователя в БД.

### Тестовый метод, для проверки аутентификации

    GET
    http://sergey:1234@localhost/inet_lab/api/auth.php

В ответе приходит набор данных в json, если пользователь присутствует в БД:

    {
        "success": true,
        "message": "Successful authorization."
    }

### Добавление пользователя

    PUT
    /api/insert.php

Для добавления пользователя - отправить запрос вида:

    {
        "name": "Dima",
        "password": "123",
        "age": "22"
    }

В ответ приходит набор данных в json, если пользотель был добавлен в БД:

    {
        "message": "Record inserted to DB"
    }

### Удаление пользователя

    DELETE
    /api/delete.php

Для удаления пользователя - отправить запрос вида:

    {
        "name": "Sergey"
    }

В ответ приходит набор данных в json, если пользотель был удален из БД:

    {
        "message": "Record deleted"
    }


### Получить информацию о пользователe

    GET
    /api/get_info_one.php

Для получения информации о пользователе - отправить запрос вида:

    http://localhost/inet_lab/api/get_info_one.php?name=Sergey

В ответ приходит набор данных в json, если пользователь найден в БД:

    {
        "id": 21,
        "name": "Sergey",
        "password": "1234",
        "age": 38
    }

### Получить информацию о всех пользователях

    GET
    /api/get_info_all.php

Для получения информации о всех пользователях - отправить запрос вида:

    http://localhost/inet_lab/api/get_info_all.php

В ответ приходит набор данных в json, если пользователь найден в БД:

    {
        "data": [
            {
                "id": 20,
                "name": "Dima",
                "password": "123",
                "age": 22
            },
            {
                "id": 21,
                "name": "Sergey",
                "password": "1234",
                "age": 38
            }
        ]
    }

### Обновить информацию о пользователe

    PUT
    /api/update.php

Для обновления информации о пользователе в БД - отправить запрос вида:

    {
        "name": "новое имя",
        "password": "новый пароль",
        "age": "новый возраст",
        "id": "19"
    }

Поиск пользователя будет выполнен по "id".
ID можно узнать по имени пользователя, используя методы:

    /api/get_info_one.php?name=Sergey - если известно имя

    /api/get_info_all.php             - выведет всех пользователей

(согласен, фигня какая-то, но работает ;p)





